# NDT

[Step](https://blog.csdn.net/AdamShan/article/details/79230612):
1. 网格化**参考**点云，计算每个网格的高斯分布参数
2. 变换**目标**点云，计算每个点的概率密度 PDF
3. 最大化 PDF 总和导出优化的目标函数
4. 牛顿法优化。为何不用 Gauss-Newton？

开源算法：
- PCL

思路：
- Coarse to Fine
- Grid = Cell
- ICP 的方案 [[LOAM]]
- particle filter localization

> [Instead of trying to match points from our current scan to point on the map, we try to match points from our current scan to a **grid** of probability functions created from the map.](https://medium.com/self-driving-cars/ndt-matching-acff8e7e01cb)

- [NDT原理推导](http://xchu.net/2019/09/14/NDT原理推导/)
  - 优化技巧：
    - 八叉树
    - 聚类
    - 插值 ![](figures/trilinear.png)
    - 多线程
      - OpenMP
      - SSE
      - [ndt_omp](https://github.com/koide3/ndt_omp)
      - [hdl_localization](https://github.com/koide3/hdl_localization)
    - CUDA
    - Colour-NDT ![](figures/Colour-NDT.png)
    - 回环检测
- [Autoware](https://www.autoware.ai)

![](figures/one-gauss.png)
![](figures/grid-gauss.png)
![源自 Magnusson_2009-Doctoral_Thesis-3D_NDT.pdf](figures/NDT-representation.png)

References：
1. The Normal Distributions Transform: A New Approach to Laser Scan Matching
2. Normal Distributions Transform Monte-Carlo Localization (NDT-MCL)
3. The Three-Dimensional Normal-Distributions Transform — an Efficient Representation for Registration,
Surface Analysis, and Loop Detection


[//begin]: # "Autogenerated link references for markdown compatibility"
[LOAM]: LOAM "LOAM"
[//end]: # "Autogenerated link references"
